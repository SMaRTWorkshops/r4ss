{
  "hash": "7c4c668e217fa03e892d45bf0c948e74",
  "result": {
    "markdown": "---\ntitle: \"Day 2B Practice\"\nformat:\n  html:\n    df-print: paged\n---\n\n\n![](../img/making_art_2780E3.svg){.hero}\n\n\n::: {.cell}\n\n:::\n\n\n## Question 1\n\na) Load the `txhousing` tibble (included in \\{tidyverse\\}). This contains the number of homes listed (`listings`) and the typical home sales price (`median`) in multiple Texas cities and months. Create a summary tibble that contains the average number of listings and the average typical home sales price across all cities and months. *Note:* For these descriptive purposes, you can ignore missing values.\n\nb) Modify your answer to Question 1a to generate the same summary statistics but *per city* this time (still averaging across all months).\n\n<p><details>\n<summary>Click here for the answer key</summary>\n<blockquote>\n\n**Answer (a)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntxhousing |> \n  summarize(\n    listings = mean(listings, na.rm = TRUE), \n    median = mean(median, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"listings\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"median\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"3216.902\",\"2\":\"128131.4\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n**Answer (b)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntxhousing |> \n  group_by(city) |> \n  summarize(\n    listings = mean(listings, na.rm = TRUE), \n    median = mean(median, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"city\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"listings\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"median\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Abilene\",\"2\":\"813.4086\",\"3\":\"98027.81\"},{\"1\":\"Amarillo\",\"2\":\"1286.2143\",\"3\":\"115121.93\"},{\"1\":\"Arlington\",\"2\":\"1945.3172\",\"3\":\"128314.44\"},{\"1\":\"Austin\",\"2\":\"8696.4118\",\"3\":\"181997.86\"},{\"1\":\"Bay Area\",\"2\":\"2999.2097\",\"3\":\"147132.09\"},{\"1\":\"Beaumont\",\"2\":\"1332.0802\",\"3\":\"115171.12\"},{\"1\":\"Brazoria County\",\"2\":\"569.9618\",\"3\":\"116677.46\"},{\"1\":\"Brownsville\",\"2\":\"655.3133\",\"3\":\"95446.49\"},{\"1\":\"Bryan-College Station\",\"2\":\"1159.5561\",\"3\":\"139472.19\"},{\"1\":\"Collin County\",\"2\":\"4738.5968\",\"3\":\"201612.83\"},{\"1\":\"Corpus Christi\",\"2\":\"2309.2418\",\"3\":\"127084.78\"},{\"1\":\"Dallas\",\"2\":\"21789.1075\",\"3\":\"160783.42\"},{\"1\":\"Denton County\",\"2\":\"2877.1290\",\"3\":\"165013.37\"},{\"1\":\"El Paso\",\"2\":\"3454.3913\",\"3\":\"118443.32\"},{\"1\":\"Fort Bend\",\"2\":\"3503.4946\",\"3\":\"183688.77\"},{\"1\":\"Fort Worth\",\"2\":\"4039.3548\",\"3\":\"112495.19\"},{\"1\":\"Galveston\",\"2\":\"972.5333\",\"3\":\"159003.05\"},{\"1\":\"Garland\",\"2\":\"837.0968\",\"3\":\"107308.56\"},{\"1\":\"Harlingen\",\"2\":\"1383.4141\",\"3\":\"87744.44\"},{\"1\":\"Houston\",\"2\":\"29525.9892\",\"3\":\"149779.68\"},{\"1\":\"Irving\",\"2\":\"623.5376\",\"3\":\"138371.12\"},{\"1\":\"Kerrville\",\"2\":\"744.0122\",\"3\":\"165997.59\"},{\"1\":\"Killeen-Fort Hood\",\"2\":\"1375.8160\",\"3\":\"107771.51\"},{\"1\":\"Laredo\",\"2\":\"606.5795\",\"3\":\"129051.01\"},{\"1\":\"Longview-Marshall\",\"2\":\"1442.5862\",\"3\":\"115222.29\"},{\"1\":\"Lubbock\",\"2\":\"1253.7634\",\"3\":\"106510.75\"},{\"1\":\"Lufkin\",\"2\":\"440.5227\",\"3\":\"103624.60\"},{\"1\":\"McAllen\",\"2\":\"2117.7339\",\"3\":\"101174.59\"},{\"1\":\"Midland\",\"2\":\"484.4775\",\"3\":\"189847.32\"},{\"1\":\"Montgomery County\",\"2\":\"3282.3387\",\"3\":\"170987.17\"},{\"1\":\"Nacogdoches\",\"2\":\"252.0756\",\"3\":\"115931.25\"},{\"1\":\"NE Tarrant County\",\"2\":\"3010.9086\",\"3\":\"164949.20\"},{\"1\":\"Odessa\",\"2\":\"314.0617\",\"3\":\"136566.09\"},{\"1\":\"Paris\",\"2\":\"347.4405\",\"3\":\"84220.86\"},{\"1\":\"Port Arthur\",\"2\":\"515.2873\",\"3\":\"96738.38\"},{\"1\":\"San Angelo\",\"2\":\"532.2924\",\"3\":\"107058.92\"},{\"1\":\"San Antonio\",\"2\":\"9611.1141\",\"3\":\"138470.05\"},{\"1\":\"San Marcos\",\"2\":\"162.2784\",\"3\":\"146168.79\"},{\"1\":\"Sherman-Denison\",\"2\":\"901.1989\",\"3\":\"93482.35\"},{\"1\":\"South Padre Island\",\"2\":\"892.5507\",\"3\":\"182208.45\"},{\"1\":\"Temple-Belton\",\"2\":\"879.7325\",\"3\":\"113368.75\"},{\"1\":\"Texarkana\",\"2\":\"630.2336\",\"3\":\"98814.71\"},{\"1\":\"Tyler\",\"2\":\"2367.0802\",\"3\":\"126891.98\"},{\"1\":\"Victoria\",\"2\":\"340.1497\",\"3\":\"118403.78\"},{\"1\":\"Waco\",\"2\":\"1356.9380\",\"3\":\"115134.00\"},{\"1\":\"Wichita Falls\",\"2\":\"835.1818\",\"3\":\"92334.76\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n</blockquote></details></p>\n\n## Question 2\n\nFor each of the following code snippets, find and fix the error(s).\n\na) \"The Scatterbrained Scatterplot\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, x = displ, y = hwy) + \n  geom_point()\n```\n:::\n\n\nb) \"Not-so-smooth Smoothing\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point()\n  geom_smooth() +\n  scale_y_continuous(\"Highway MPG\") +\n  scale_x_discrete(\"Engine Size\")\n```\n:::\n\n\nc) \"A Leaky Pipeline\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(economics, aes(x = date, y = unemploy)) |> \n  geom_line() |> \n  geom_point()\n```\n:::\n\n\n<p><details>\n<summary>Click here for the answer key</summary>\n<blockquote>\n\n**Answer (a)**\n\nThe code forgot to put the mappings inside `aes()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) + # fix 1\n  geom_point() \n```\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n**Answer (b)**\n\nThe code forgot a `+` and set the x-axis to discrete instead of continuous.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point() + # fix 1\n  geom_smooth() +\n  scale_y_continuous(\"Highway MPG\") +\n  scale_x_continuous(\"Engine Size\") # fix 2\n#> `geom_smooth()` using method = 'loess' and formula 'y ~ x'\n```\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n**Answer (c)**\n\nThe code used pipes instead of plus signs to connect ggplot2 commands.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(economics, aes(x = date, y = unemploy)) + # fix 1\n  geom_line() + # fix 2\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n</blockquote></details></p>\n\n## Question 3\n\na) Install and load the \\{palmerpenguins\\} package.\n\nb) Recreate the following graphic as closely as you can from the `penguins` tibble in that package (don't worry about getting the geom settings exactly right).\n\nc) Clean up the x and y axis titles so that they are more readable (e.g., \"Flipper length (mm)\" instead of \"flipper_length_mm\"). *Bonus:* See if you can figure out how to also rename the legend title.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n<p><details>\n<summary>Click here for the answer key</summary>\n<blockquote>\n\n**Answer (a)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extra pane > Packages tab > Install button > palmerpenguins > Install\n\nlibrary(palmerpenguins)\n```\n:::\n\n\n**Answer (b)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm,\n                     color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.75)\n```\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n**Answer (c)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm,\n                     color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.75) +\n  scale_x_continuous(name = \"Flipper length (mm)\") +\n  scale_y_continuous(name = \"Body mass (g)\") +\n  scale_color_discrete(name = \"Penguin species\") +\n  scale_shape_discrete(name = \"Penguin species\")\np\n```\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nOr, use this shortcut:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm,\n                     color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.75) +\n  labs(\n    x = \"Flipper length (mm)\",\n    y = \"Body mass (g)\",\n    color = \"Penguin species\",\n    shape_ = \"Penguin species\"\n  )\np\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n</blockquote></details></p>\n\n## Question 4\n\na) Use your graphic from Question 3(c) a starting graphic object. Apply the \"classic\" complete theme to it and move the legend to the top. *Bonus:* Also make the axis titles italic (you may need to check a cheatsheet or do some searching to find the right element).\n\nb) Export this graphic as an image file to include in a paper. Make it 6.5 inches wide and 4 inches high. *Bonus:* Open Microsoft Word or Google Docs and insert the image.\n\n<p><details>\n<summary>Click here for the answer key</summary>\n<blockquote>\n\n**Answer (a)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\np2 <- \n  p + \n  theme_classic() + \n  theme(\n    legend.position = \"top\",\n    axis.title = element_text(face = \"italic\") # bonus\n  )\np2\n```\n\n::: {.cell-output-display}\n![](Day2B_Practice_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n**Answer (b)**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"practice.png\", plot = p2, width = 6.5, height = 4, units = \"in\")\n```\n:::\n\n\n</blockquote></details></p>\n\n## Resources\n\n- [R4DS Chapter 5](https://r4ds.had.co.nz/transform.html) (§5.6–§5.7): Read more about grouped summaries and mutates\n\n- [R4DS Chapter 12](https://r4ds.had.co.nz/tidy-data.html): Read more about reshaping and tidying data in R\n\n- [R4DS Chapter 3](https://r4ds.had.co.nz/data-visualisation.html): Read an introduction to visualization\n\n- [GGP2 Chapter 11](https://ggplot2-book.org/scale-colour.html): Read more about color in ggplot2\n\n- [GGP2 Chapter 18](https://ggplot2-book.org/polishing.html): Read more about themes in ggplot2\n\n## Fun Stuff\n\n### Let's Enhance\n\nIf you want to be able to do this, save your images as `.pdf` or `.svg`...\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/LhF_56SxrGk\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n### Don McMillan's Greatest Charts\n\nWould these be more or less funny if he had used ggplot2... ?\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/LYE3GtXqDV0\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n",
    "supporting": [
      "Day2B_Practice_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}